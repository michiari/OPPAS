// formulae to verify here: mostly with THE CHAIN OPERATOR
probabilistic query: approximate;

program:
u2 fairness;
main() {
  bool res;
  fairness = 0u2 {1u3 : 4u3} 1u2 {1u3 : 4u3} 2u2 {1u3 : 4u3} 3u2;
  query alice(res);
  // res is which caf√® they have gone to
}


alice(bool &x) {
    bool prior, fair, bob_choice;
    // sample according to the prior (0.6)
    prior = 1u1 {8u4 : 10u4} 0u1;
    query bob(bob_choice);
    observe prior == bob_choice;
    x = prior;
}

bob(bool &y) {
    bool prior, fair, alice_choice;
    // sample according to the prior (0.5)
    prior = 1u1 {4u4 : 10u4} 0u1;
    fair = 1u1 {fairness : 3u2} 0u1;
    if (fair) {
        query alice(alice_choice);
        observe prior == alice_choice;
    } else {}
    y = prior;
}
